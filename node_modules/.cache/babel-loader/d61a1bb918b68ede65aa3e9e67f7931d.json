{"ast":null,"code":"var _jsxFileName = \"/Users/reneelightner/reneelempert/react-development-course-materials/final/src/Chart.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport * as d3 from 'd3';\nimport { useD3 } from './useD3.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Chart(props) {\n  _s();\n\n  const ref = useD3(svg => {\n    const height = 500;\n    const width = 500;\n    const margin = {\n      top: 20,\n      right: 30,\n      bottom: 30,\n      left: 40\n    };\n    const x = d3.scaleBand().domain(props.data.map(d => d.year)).rangeRound([margin.left, width - margin.right]).padding(0.1);\n    const y1 = d3.scaleLinear().domain([0, d3.max(props.data, d => d.sales)]).rangeRound([height - margin.bottom, margin.top]);\n\n    const xAxis = g => g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(d3.axisBottom(x).tickValues(d3.ticks(...d3.extent(x.domain()), width / 40).filter(v => x(v) !== undefined)).tickSizeOuter(0));\n\n    const y1Axis = g => g.attr(\"transform\", `translate(${margin.left},0)`).style(\"color\", \"steelblue\").call(d3.axisLeft(y1).ticks(null, \"s\")).call(g => g.select(\".domain\").remove()).call(g => g.append(\"text\").attr(\"x\", -margin.left).attr(\"y\", 10).attr(\"fill\", \"currentColor\").attr(\"text-anchor\", \"start\").text(props.data.y1));\n\n    svg.select(\".x-axis\").call(xAxis);\n    svg.select(\".y-axis\").call(y1Axis);\n    svg.select(\".plot-area\").attr(\"fill\", \"steelblue\").selectAll(\".bar\").data(data).join(\"rect\").attr(\"class\", \"bar\").attr(\"x\", d => x(d.year)).attr(\"width\", x.bandwidth()).attr(\"y\", d => y1(d.sales)).attr(\"height\", d => y1(0) - y1(d.sales));\n  }, [props.data.length]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: ref,\n    style: {\n      height: 300,\n      width: 700\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"plot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"x-axis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"y-axis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Chart, \"r127xTdrGuIqcYXTmMbvPxoKAyo=\", false, function () {\n  return [useD3];\n});\n\n_c = Chart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chart\");","map":{"version":3,"sources":["/Users/reneelightner/reneelempert/react-development-course-materials/final/src/Chart.js"],"names":["React","d3","useD3","Chart","props","ref","svg","height","width","margin","top","right","bottom","left","x","scaleBand","domain","data","map","d","year","rangeRound","padding","y1","scaleLinear","max","sales","xAxis","g","attr","call","axisBottom","tickValues","ticks","extent","filter","v","undefined","tickSizeOuter","y1Axis","style","axisLeft","select","remove","append","text","selectAll","join","bandwidth","length"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;AACA,SAASC,KAAT,QAAsB,YAAtB;;AAEA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAAA;;AAEjC,QAAMC,GAAG,GAAGH,KAAK,CACZI,GAAD,IAAS;AACL,UAAMC,MAAM,GAAG,GAAf;AACA,UAAMC,KAAK,GAAG,GAAd;AACA,UAAMC,MAAM,GAAG;AAAEC,MAAAA,GAAG,EAAE,EAAP;AAAWC,MAAAA,KAAK,EAAE,EAAlB;AAAsBC,MAAAA,MAAM,EAAE,EAA9B;AAAkCC,MAAAA,IAAI,EAAE;AAAxC,KAAf;AAEA,UAAMC,CAAC,GAAGb,EAAE,CACXc,SADS,GAETC,MAFS,CAEFZ,KAAK,CAACa,IAAN,CAAWC,GAAX,CAAgBC,CAAD,IAAOA,CAAC,CAACC,IAAxB,CAFE,EAGTC,UAHS,CAGE,CAACZ,MAAM,CAACI,IAAR,EAAcL,KAAK,GAAGC,MAAM,CAACE,KAA7B,CAHF,EAITW,OAJS,CAID,GAJC,CAAV;AAMA,UAAMC,EAAE,GAAGtB,EAAE,CACRuB,WADM,GAENR,MAFM,CAEC,CAAC,CAAD,EAAIf,EAAE,CAACwB,GAAH,CAAOrB,KAAK,CAACa,IAAb,EAAoBE,CAAD,IAAOA,CAAC,CAACO,KAA5B,CAAJ,CAFD,EAGNL,UAHM,CAGK,CAACd,MAAM,GAAGE,MAAM,CAACG,MAAjB,EAAyBH,MAAM,CAACC,GAAhC,CAHL,CAAX;;AAKA,UAAMiB,KAAK,GAAIC,CAAD,IACVA,CAAC,CAACC,IAAF,CAAO,WAAP,EAAqB,eAActB,MAAM,GAAGE,MAAM,CAACG,MAAO,GAA1D,EAA8DkB,IAA9D,CACA7B,EAAE,CACG8B,UADL,CACgBjB,CADhB,EAEKkB,UAFL,CAGI/B,EAAE,CACGgC,KADL,CACW,GAAGhC,EAAE,CAACiC,MAAH,CAAUpB,CAAC,CAACE,MAAF,EAAV,CADd,EACqCR,KAAK,GAAG,EAD7C,EAEK2B,MAFL,CAEaC,CAAD,IAAOtB,CAAC,CAACsB,CAAD,CAAD,KAASC,SAF5B,CAHJ,EAOKC,aAPL,CAOmB,CAPnB,CADA,CADJ;;AAYA,UAAMC,MAAM,GAAIX,CAAD,IACXA,CAAC,CACAC,IADD,CACM,WADN,EACoB,aAAYpB,MAAM,CAACI,IAAK,KAD5C,EAEC2B,KAFD,CAEO,OAFP,EAEgB,WAFhB,EAGCV,IAHD,CAGM7B,EAAE,CAACwC,QAAH,CAAYlB,EAAZ,EAAgBU,KAAhB,CAAsB,IAAtB,EAA4B,GAA5B,CAHN,EAICH,IAJD,CAIOF,CAAD,IAAOA,CAAC,CAACc,MAAF,CAAS,SAAT,EAAoBC,MAApB,EAJb,EAKCb,IALD,CAKOF,CAAD,IACFA,CAAC,CACAgB,MADD,CACQ,MADR,EAECf,IAFD,CAEM,GAFN,EAEW,CAACpB,MAAM,CAACI,IAFnB,EAGCgB,IAHD,CAGM,GAHN,EAGW,EAHX,EAICA,IAJD,CAIM,MAJN,EAIc,cAJd,EAKCA,IALD,CAKM,aALN,EAKqB,OALrB,EAMCgB,IAND,CAMMzC,KAAK,CAACa,IAAN,CAAWM,EANjB,CANJ,CADJ;;AAgBAjB,IAAAA,GAAG,CAACoC,MAAJ,CAAW,SAAX,EAAsBZ,IAAtB,CAA2BH,KAA3B;AACArB,IAAAA,GAAG,CAACoC,MAAJ,CAAW,SAAX,EAAsBZ,IAAtB,CAA2BS,MAA3B;AAEAjC,IAAAA,GAAG,CACEoC,MADL,CACY,YADZ,EAEKb,IAFL,CAEU,MAFV,EAEkB,WAFlB,EAGKiB,SAHL,CAGe,MAHf,EAIK7B,IAJL,CAIUA,IAJV,EAKK8B,IALL,CAKU,MALV,EAMKlB,IANL,CAMU,OANV,EAMmB,KANnB,EAOKA,IAPL,CAOU,GAPV,EAOgBV,CAAD,IAAOL,CAAC,CAACK,CAAC,CAACC,IAAH,CAPvB,EAQKS,IARL,CAQU,OARV,EAQmBf,CAAC,CAACkC,SAAF,EARnB,EASKnB,IATL,CASU,GATV,EASgBV,CAAD,IAAOI,EAAE,CAACJ,CAAC,CAACO,KAAH,CATxB,EAUKG,IAVL,CAUU,QAVV,EAUqBV,CAAD,IAAOI,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAACJ,CAAC,CAACO,KAAH,CAVrC;AAWH,GA3DY,EA4Db,CAACtB,KAAK,CAACa,IAAN,CAAWgC,MAAZ,CA5Da,CAAjB;AA+DA,sBACI;AACI,IAAA,GAAG,EAAE5C,GADT;AAEI,IAAA,KAAK,EAAE;AACHE,MAAAA,MAAM,EAAE,GADL;AAEHC,MAAAA,KAAK,EAAE;AAFJ,KAFX;AAAA,4BAOI;AAAG,MAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,YAPJ,eAQI;AAAG,MAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,YARJ,eASI;AAAG,MAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,YATJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAcH;;GA/EuBL,K;UAERD,K;;;KAFQC,K","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport { useD3 } from './useD3.js';\n\nexport default function Chart(props) {\n\n    const ref = useD3(\n        (svg) => {\n            const height = 500;\n            const width = 500;\n            const margin = { top: 20, right: 30, bottom: 30, left: 40 };\n\n            const x = d3\n            .scaleBand()\n            .domain(props.data.map((d) => d.year))\n            .rangeRound([margin.left, width - margin.right])\n            .padding(0.1);\n    \n            const y1 = d3\n                .scaleLinear()\n                .domain([0, d3.max(props.data, (d) => d.sales)])\n                .rangeRound([height - margin.bottom, margin.top]);\n        \n            const xAxis = (g) =>\n                g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(\n                d3\n                    .axisBottom(x)\n                    .tickValues(\n                    d3\n                        .ticks(...d3.extent(x.domain()), width / 40)\n                        .filter((v) => x(v) !== undefined)\n                    )\n                    .tickSizeOuter(0)\n                );\n        \n            const y1Axis = (g) =>\n                g\n                .attr(\"transform\", `translate(${margin.left},0)`)\n                .style(\"color\", \"steelblue\")\n                .call(d3.axisLeft(y1).ticks(null, \"s\"))\n                .call((g) => g.select(\".domain\").remove())\n                .call((g) =>\n                    g\n                    .append(\"text\")\n                    .attr(\"x\", -margin.left)\n                    .attr(\"y\", 10)\n                    .attr(\"fill\", \"currentColor\")\n                    .attr(\"text-anchor\", \"start\")\n                    .text(props.data.y1)\n                );\n        \n            svg.select(\".x-axis\").call(xAxis);\n            svg.select(\".y-axis\").call(y1Axis);\n        \n            svg\n                .select(\".plot-area\")\n                .attr(\"fill\", \"steelblue\")\n                .selectAll(\".bar\")\n                .data(data)\n                .join(\"rect\")\n                .attr(\"class\", \"bar\")\n                .attr(\"x\", (d) => x(d.year))\n                .attr(\"width\", x.bandwidth())\n                .attr(\"y\", (d) => y1(d.sales))\n                .attr(\"height\", (d) => y1(0) - y1(d.sales));\n        }, \n        [props.data.length]\n    );\n\n    return(\n        <svg\n            ref={ref}\n            style={{\n                height: 300,\n                width: 700\n            }}\n        >\n            <g className='plot' />\n            <g className='x-axis' />\n            <g className='y-axis' />\n        </svg>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}