{"ast":null,"code":"import React from'react';import*as d3 from'd3';import{useD3}from'./useD3.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Chart(props){var ref=useD3(function(svg){d3.selectAll(\"svg#\".concat(props.id,\" circle\")).remove();var height=props.height;var width=893;var margin={top:1,right:15,bottom:20,left:110};var parseTime=d3.timeParse(\"%Y\");props.data.map(function(d){return{'YEAR':parseTime(d.YEAR)};});var x=d3.scaleTime().rangeRound([margin.right,width-margin.right-margin.left]).domain(d3.extent(props.data,function(d){return parseTime(d.YEAR);}));var y=d3.scaleBand().domain(props.awards).rangeRound([0,height-margin.top-margin.bottom]).padding(1);var xAxis=function xAxis(g){return g.attr(\"transform\",\"translate(\".concat(margin.left,\",\").concat(height-margin.bottom,\")\")).call(d3.axisBottom(x));};var yAxis=function yAxis(g){return g.attr(\"transform\",\"translate(\".concat(margin.left,\",\").concat(margin.top,\")\")).call(d3.axisLeft(y));};svg.select(\".x-axis\").call(xAxis);svg.select(\".y-axis\").call(yAxis);svg.select(\".plot\").append(\"text\").attr(\"class\",\"tooltip-artist-\".concat(props.id)).style(\"pointer-events\",\"none\").style(\"font-size\",\"10px\").style(\"font-weight\",\"bold\").style(\"opacity\",0);svg.select(\".plot\").attr(\"transform\",\"translate(\".concat(margin.left,\",\").concat(margin.top,\")\")).selectAll(\"dot\").data(props.data).enter().append(\"circle\").attr(\"class\",function(d){if(d.ARTIST!==\"\"){return\"circle\";}else{return\"remove-circle\";}}).attr(\"cy\",function(d){return y(d.AWARD);}).attr(\"cx\",function(d){return x(parseTime(d.YEAR));}).attr(\"i\",function(d,i){return i;}).attr(\"artist\",function(d){return d['ART-1'].split(\" \").join(\"\");}).attr(\"artist2\",function(d){if(d['ART-2']){return d['ART-2'].split(\" \").join(\"\");}}).attr(\"artist3\",function(d){if(d['ART-3']){return d['ART-3'].split(\" \").join(\"\");}}).attr(\"artist4\",function(d){if(d['ART-4']){return d['ART-4'].split(\" \").join(\"\");}}).attr(\"artist5\",function(d){if(d['ART-5']){return d['ART-5'].split(\" \").join(\"\");}}).attr(\"artist6\",function(d){if(d['ART-6']){return d['ART-6'].split(\" \").join(\"\");}}).attr(\"r\",5.5).style(\"fill\",\"#666\").attr(\"stroke-width\",2).attr(\"stroke\",\"#fff\").on(\"mouseover\",function(d){var index=d3.select(this).attr(\"i\");var cynum=d3.select(this).attr(\"cy\");var cxnum=d3.select(this).attr(\"cx\");var side;if(index>props.data.length/2){side='left';}else{side='right';}d3.select(this).attr(\"stroke\",\"#666\");d3.select(this).style(\"opacity\",1);d3.select(\"text.tooltip-artist-\".concat(props.id)).text(function(){var text=props.data[index]['ARTIST'];if(props.data[index]['WINNER']){text=text+', '+props.data[index]['WINNER'];}return text;}).attr(\"dy\",function(){return+cynum-7;}).attr(\"dx\",function(){if(side==\"left\"){return+cxnum+5;}else{return+cxnum-5;}}).attr(\"text-anchor\",function(){if(side==\"left\"){return\"start\";}else{return\"end\";}}).style(\"opacity\",1);}).on(\"mouseout\",function(d,i){if(props.artist!='none'){d3.select(this).style(\"opacity\",0.1);}d3.selectAll(\"circle.circle.selected-artist\").style(\"opacity\",1);d3.select(this).attr(\"stroke\",\"#fff\");d3.select(\"text.tooltip-artist-\".concat(props.id)).style(\"opacity\",0);});d3.selectAll(\"circle.remove-circle\").remove();var artistSelected=props.artist.split(\" \").join(\"\");if(props.artist!='none'){d3.selectAll(\"circle.circle\").style(\"opacity\",0.1);}d3.selectAll(\"circle.circle[artist='\"+artistSelected+\"']\").classed('selected-artist',true).style(\"opacity\",1);d3.selectAll(\"circle.circle[artist2='\"+artistSelected+\"']\").classed('selected-artist',true).style(\"opacity\",1);d3.selectAll(\"circle.circle[artist3='\"+artistSelected+\"']\").classed('selected-artist',true).style(\"opacity\",1);d3.selectAll(\"circle.circle[artist4='\"+artistSelected+\"']\").classed('selected-artist',true).style(\"opacity\",1);d3.selectAll(\"circle.circle[artist5='\"+artistSelected+\"']\").classed('selected-artist',true).style(\"opacity\",1);d3.selectAll(\"circle.circle[artist6='\"+artistSelected+\"']\").classed('selected-artist',true).style(\"opacity\",1);},[props.artist]);var chartDek=function chartDek(){if(props.id==='superbowl'){return\"Below are the headliners for the Super Bowl halftime show. Each year's performer(s) are represented by a circle (hover for more).\";}else{return/*#__PURE__*/_jsxs(\"span\",{children:[\"Below are \",/*#__PURE__*/_jsx(\"i\",{children:\"select\"}),\" awards at the \",props.show,\". Each year's winning artist is represented by a circle (hover for more).\"]});}};return/*#__PURE__*/_jsxs(\"div\",{class:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h5\",{children:props.show}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"winning-artist\",children:[props.awardCountForArist,\" for \",props.artist,\" = \",/*#__PURE__*/_jsx(\"span\",{})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"small\",{children:chartDek()})})]}),/*#__PURE__*/_jsxs(\"svg\",{id:props.id,ref:ref,style:{height:props.height,width:893},children:[/*#__PURE__*/_jsx(\"g\",{className:\"plot\"}),/*#__PURE__*/_jsx(\"g\",{className:\"x-axis\"}),/*#__PURE__*/_jsx(\"g\",{className:\"y-axis\"})]})]});}","map":{"version":3,"sources":["/Users/reneelightner/reneelempert/final/src/Chart.js"],"names":["React","d3","useD3","Chart","props","ref","svg","selectAll","id","remove","height","width","margin","top","right","bottom","left","parseTime","timeParse","data","map","d","YEAR","x","scaleTime","rangeRound","domain","extent","y","scaleBand","awards","padding","xAxis","g","attr","call","axisBottom","yAxis","axisLeft","select","append","style","enter","ARTIST","AWARD","i","split","join","on","index","cynum","cxnum","side","length","text","artist","artistSelected","classed","chartDek","show","awardCountForArist"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport { useD3 } from './useD3.js';\n\nexport default function Chart(props) {\n\n    const ref = useD3(\n        (svg) => {\n            d3.selectAll(`svg#${props.id} circle`).remove();\n\n            const height = props.height;\n            const width = 893;\n            const margin = {top: 1, right: 15, bottom: 20, left: 110};\n\n            const parseTime = d3.timeParse(\"%Y\");\n            props.data.map(d => { return {'YEAR' : parseTime(d.YEAR)} });\n\n            const x = d3.scaleTime()\n                .rangeRound([margin.right, width-margin.right-margin.left])\n                .domain(d3.extent(props.data, function(d) { return parseTime(d.YEAR); }));\n\n            const y = d3.scaleBand()\n                .domain(props.awards)\n                .rangeRound([0, height-margin.top-margin.bottom])\n                .padding(1);\n\n            const xAxis = g => g\n                .attr(\"transform\", `translate(${margin.left},${height - margin.bottom})`)\n                .call(d3.axisBottom(x));\n\n            const yAxis = g => g\n                .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n                .call(d3.axisLeft(y));\n\n            svg.select(\".x-axis\").call(xAxis);\n            svg.select(\".y-axis\").call(yAxis);\n\n            svg\n                .select(\".plot\")\n                .append(\"text\")\n                .attr(\"class\", `tooltip-artist-${props.id}`)\n                .style(\"pointer-events\", \"none\")\n                .style(\"font-size\", \"10px\")\n                .style(\"font-weight\", \"bold\")\n                .style(\"opacity\", 0);\n\n            svg\n                .select(\".plot\")\n                .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n                .selectAll(\"dot\")\n                .data(props.data)\n                .enter()\n                .append(\"circle\")\n                .attr(\"class\", (d)=>{ if(d.ARTIST !== \"\"){return \"circle\"}else{return \"remove-circle\"} })\n                .attr(\"cy\", d => y(d.AWARD) )\n                .attr(\"cx\", d => x(parseTime(d.YEAR)) )\n                .attr(\"i\", (d,i) => i )\n                .attr(\"artist\", d => d['ART-1'].split(\" \").join(\"\"))\n                .attr(\"artist2\", d => {if(d['ART-2']) {return d['ART-2'].split(\" \").join(\"\")}})\n                .attr(\"artist3\", d => {if(d['ART-3']) {return d['ART-3'].split(\" \").join(\"\")}})\n                .attr(\"artist4\", d => {if(d['ART-4']) {return d['ART-4'].split(\" \").join(\"\")}})\n                .attr(\"artist5\", d => {if(d['ART-5']) {return d['ART-5'].split(\" \").join(\"\")}})\n                .attr(\"artist6\", d => {if(d['ART-6']) {return d['ART-6'].split(\" \").join(\"\")}})\n                .attr(\"r\", 5.5)\n                .style(\"fill\", \"#666\")\n                .attr(\"stroke-width\", 2)\n                .attr(\"stroke\", \"#fff\")\n                .on(\"mouseover\",function(d) {\n                    let index = d3.select(this).attr(\"i\"); \n                    let cynum = d3.select(this).attr(\"cy\");\n                    let cxnum = d3.select(this).attr(\"cx\");\n                    let side;\n                    if (index > props.data.length/2) {side = 'left';} else {side = 'right';}\n                    d3.select(this).attr(\"stroke\", \"#666\");\n                    d3.select(this).style(\"opacity\", 1);\n                    d3.select(`text.tooltip-artist-${props.id}`)\n                        .text(() => {\n                            let text = props.data[index]['ARTIST'];\n                            if (props.data[index]['WINNER']) {text = text+', '+ props.data[index]['WINNER'];}\n                            return text;\n                        })\n                        .attr(\"dy\", () => {return +cynum-7})\n                        .attr(\"dx\", () => {if (side == \"left\") {return (+cxnum + 5)} else {return (+cxnum - 5)} })\n                        .attr(\"text-anchor\", () => { if (side == \"left\") {return \"start\"} else {return \"end\"} })\n                        .style(\"opacity\", 1);\n                })\n                .on(\"mouseout\",function(d,i) {\n                    if (props.artist != 'none') {d3.select(this).style(\"opacity\", 0.1);}\n                    d3.selectAll(\"circle.circle.selected-artist\").style(\"opacity\", 1);\n                    d3.select(this).attr(\"stroke\", \"#fff\");\n                    d3.select(`text.tooltip-artist-${props.id}`).style(\"opacity\", 0);\n                });\n\n            d3.selectAll(\"circle.remove-circle\").remove();\n\n            let artistSelected = props.artist.split(\" \").join(\"\");\n            if (props.artist != 'none') { d3.selectAll(\"circle.circle\").style(\"opacity\", 0.1) }\n            d3.selectAll(\"circle.circle[artist='\"+artistSelected+\"']\").classed('selected-artist', true).style(\"opacity\", 1);\n            d3.selectAll(\"circle.circle[artist2='\"+artistSelected+\"']\").classed('selected-artist', true).style(\"opacity\", 1);\n            d3.selectAll(\"circle.circle[artist3='\"+artistSelected+\"']\").classed('selected-artist', true).style(\"opacity\", 1);\n            d3.selectAll(\"circle.circle[artist4='\"+artistSelected+\"']\").classed('selected-artist', true).style(\"opacity\", 1);\n            d3.selectAll(\"circle.circle[artist5='\"+artistSelected+\"']\").classed('selected-artist', true).style(\"opacity\", 1);\n            d3.selectAll(\"circle.circle[artist6='\"+artistSelected+\"']\").classed('selected-artist', true).style(\"opacity\", 1);\n        }, \n        [props.artist]\n    );\n\n    const chartDek = () => {\n        if (props.id === 'superbowl') {\n            return `Below are the headliners for the Super Bowl halftime show. Each year's performer(s) are represented by a circle (hover for more).`\n        } else {\n            return <span>Below are <i>select</i> awards at the {props.show}. Each year's winning artist is represented by a circle (hover for more).</span>\n        }\n    }\n\n    return(\n        <div class=\"mt-5\">\n            <h5>{props.show}</h5>\n            <div>\n                <p className=\"winning-artist\">{props.awardCountForArist} for {props.artist} = <span></span></p>\n                <div>\n                    <small>{chartDek()}</small>\n                </div>\n            </div>\n            <svg\n                id={props.id}\n                ref={ref}\n                style={{\n                    height: props.height,\n                    width: 893\n                }}\n            >\n                <g className='plot' />\n                <g className='x-axis' />\n                <g className='y-axis' />\n            </svg>\n        </div>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}