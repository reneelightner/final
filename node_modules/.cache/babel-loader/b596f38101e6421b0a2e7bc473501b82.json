{"ast":null,"code":"var _jsxFileName = \"/Users/reneelightner/reneelempert/react-development-course-materials/final/src/Chart.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport * as d3 from 'd3';\nimport { useD3 } from './useD3.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Chart(props) {\n  _s();\n\n  const ref = useD3(svg => {\n    d3.selectAll(`svg#${props.id} circle`).remove();\n    const height = props.height;\n    const width = 893;\n    const margin = {\n      top: 1,\n      right: 15,\n      bottom: 20,\n      left: 100\n    };\n    const parseTime = d3.timeParse(\"%Y\");\n    props.data.map(d => {\n      return {\n        'YEAR': parseTime(d.YEAR)\n      };\n    });\n    const x = d3.scaleTime().rangeRound([margin.right, width - margin.right - margin.left]).domain(d3.extent(props.data, function (d) {\n      return parseTime(d.YEAR);\n    }));\n    const y = d3.scaleBand().domain(props.awards).rangeRound([0, height - margin.top - margin.bottom]).padding(1);\n\n    const xAxis = g => g.attr(\"transform\", `translate(${margin.left},${height - margin.bottom})`).call(d3.axisBottom(x));\n\n    const yAxis = g => g.attr(\"transform\", `translate(${margin.left},${margin.top})`).call(d3.axisLeft(y));\n\n    svg.select(\".x-axis\").call(xAxis);\n    svg.select(\".y-axis\").call(yAxis);\n    svg.select(\".plot\").append(\"text\").attr(\"class\", `tooltip-artist-${props.id}`).style(\"pointer-events\", \"none\").style(\"font-size\", \"10px\").style(\"font-weight\", \"bold\").style(\"opacity\", 0);\n    svg.select(\".plot\").attr(\"transform\", `translate(${margin.left},${margin.top})`).selectAll(\"dot\").data(props.data).enter().append(\"circle\").attr(\"class\", d => {\n      if (d.ARTIST !== \"\") {\n        return \"circle\";\n      } else {\n        return \"remove-circle\";\n      }\n    }).attr(\"cy\", d => y(d.AWARD)).attr(\"cx\", d => x(parseTime(d.YEAR))).attr(\"i\", (d, i) => i).attr(\"artist\", d => d['ART-1'].split(\" \").join(\"\")).attr(\"artist2\", d => {\n      if (d['ART-2']) {\n        return d['ART-2'].split(\" \").join(\"\");\n      }\n    }).attr(\"artist3\", d => {\n      if (d['ART-3']) {\n        return d['ART-3'].split(\" \").join(\"\");\n      }\n    }).attr(\"artist4\", d => {\n      if (d['ART-4']) {\n        return d['ART-4'].split(\" \").join(\"\");\n      }\n    }).attr(\"artist5\", d => {\n      if (d['ART-5']) {\n        return d['ART-5'].split(\" \").join(\"\");\n      }\n    }).attr(\"artist6\", d => {\n      if (d['ART-6']) {\n        return d['ART-6'].split(\" \").join(\"\");\n      }\n    }).attr(\"r\", 5.5).style(\"fill\", \"#666\").attr(\"stroke-width\", 2).attr(\"stroke\", \"#fff\").on(\"mouseover\", function (d) {\n      let index = d3.select(this).attr(\"i\");\n      let cynum = d3.select(this).attr(\"cy\");\n      let cxnum = d3.select(this).attr(\"cx\");\n      let side;\n\n      if (index > props.data.length / 2) {\n        side = 'left';\n      } else {\n        side = 'right';\n      }\n\n      d3.select(this).attr(\"stroke\", \"#666\");\n      d3.select(this).style(\"opacity\", 1);\n      d3.select(`text.tooltip-artist-${props.id}`).text(() => {\n        let text = props.data[index]['ARTIST'];\n\n        if (props.data[index]['WINNER']) {\n          text = text + ', ' + props.data[index]['WINNER'];\n        }\n\n        return text;\n      }).attr(\"dy\", () => {\n        return +cynum - 7;\n      }).attr(\"dx\", () => {\n        if (side == \"left\") {\n          return +cxnum + 5;\n        } else {\n          return +cxnum - 5;\n        }\n      }).attr(\"text-anchor\", () => {\n        if (side == \"left\") {\n          return \"start\";\n        } else {\n          return \"end\";\n        }\n      }).style(\"opacity\", 1);\n    }).on(\"mouseout\", function (d, i) {\n      if (props.artist != 'none') {\n        d3.select(this).style(\"opacity\", 0.1);\n      }\n\n      d3.selectAll(\"circle.circle.selected-artist\").style(\"opacity\", 1);\n      d3.select(this).attr(\"stroke\", \"#fff\");\n      d3.select(`text.tooltip-artist-${props.id}`).style(\"opacity\", 0);\n    });\n    d3.selectAll(\"circle.remove-circle\").remove();\n    let artistSelected = props.artist.split(\" \").join(\"\");\n\n    if (props.artist != 'none') {\n      d3.selectAll(\"circle.circle\").style(\"opacity\", 0.1);\n    }\n\n    d3.selectAll(\"circle.circle[artist='\" + artistSelected + \"']\").classed('selected-artist', true).style(\"opacity\", 1);\n    d3.selectAll(\"circle.circle[artist2='\" + artistSelected + \"']\").classed('selected-artist', true).style(\"opacity\", 1);\n    d3.selectAll(\"circle.circle[artist3='\" + artistSelected + \"']\").classed('selected-artist', true).style(\"opacity\", 1);\n    d3.selectAll(\"circle.circle[artist4='\" + artistSelected + \"']\").classed('selected-artist', true).style(\"opacity\", 1);\n    d3.selectAll(\"circle.circle[artist5='\" + artistSelected + \"']\").classed('selected-artist', true).style(\"opacity\", 1);\n    d3.selectAll(\"circle.circle[artist6='\" + artistSelected + \"']\").classed('selected-artist', true).style(\"opacity\", 1);\n  }, [props.artist]);\n\n  const chartDek = () => {\n    if (props.id === 'superbowl') {\n      return `Below are the headliners for the Super Bowl halftime show. Each year's performer(s) are represented by a circle (hover for more).`;\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Below are \", /*#__PURE__*/_jsxDEV(\"i\", {\n          children: \"select\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 36\n        }, this), \" awards at the \", props.show, \". Each year's winning artist is represented by a circle (hover for more).\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 20\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: props.show\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"winning-artist\",\n        children: [props.awardCountForArist, \" for \", props.artist, \" = \", /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 95\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          children: chartDek()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      id: props.id,\n      ref: ref,\n      style: {\n        height: props.height,\n        width: 893\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"plot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"x-axis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"y-axis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"small\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"about\",\n          children: \"Notes and Source Info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Chart, \"r127xTdrGuIqcYXTmMbvPxoKAyo=\", false, function () {\n  return [useD3];\n});\n\n_c = Chart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chart\");","map":{"version":3,"sources":["/Users/reneelightner/reneelempert/react-development-course-materials/final/src/Chart.js"],"names":["React","d3","useD3","Chart","props","ref","svg","selectAll","id","remove","height","width","margin","top","right","bottom","left","parseTime","timeParse","data","map","d","YEAR","x","scaleTime","rangeRound","domain","extent","y","scaleBand","awards","padding","xAxis","g","attr","call","axisBottom","yAxis","axisLeft","select","append","style","enter","ARTIST","AWARD","i","split","join","on","index","cynum","cxnum","side","length","text","artist","artistSelected","classed","chartDek","show","awardCountForArist"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport { useD3 } from './useD3.js';\n\nexport default function Chart(props) {\n\n    const ref = useD3(\n        (svg) => {\n            d3.selectAll(`svg#${props.id} circle`).remove();\n\n            const height = props.height;\n            const width = 893;\n            const margin = {top: 1, right: 15, bottom: 20, left: 100};\n\n            const parseTime = d3.timeParse(\"%Y\");\n            props.data.map(d => { return {'YEAR' : parseTime(d.YEAR)} });\n\n            const x = d3.scaleTime()\n                .rangeRound([margin.right, width-margin.right-margin.left])\n                .domain(d3.extent(props.data, function(d) { return parseTime(d.YEAR); }));\n\n            const y = d3.scaleBand()\n                .domain(props.awards)\n                .rangeRound([0, height-margin.top-margin.bottom])\n                .padding(1);\n\n            const xAxis = g => g\n                .attr(\"transform\", `translate(${margin.left},${height - margin.bottom})`)\n                .call(d3.axisBottom(x));\n\n            const yAxis = g => g\n                .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n                .call(d3.axisLeft(y));\n\n            svg.select(\".x-axis\").call(xAxis);\n            svg.select(\".y-axis\").call(yAxis);\n\n            svg\n                .select(\".plot\")\n                .append(\"text\")\n                .attr(\"class\", `tooltip-artist-${props.id}`)\n                .style(\"pointer-events\", \"none\")\n                .style(\"font-size\", \"10px\")\n                .style(\"font-weight\", \"bold\")\n                .style(\"opacity\", 0);\n\n            svg\n                .select(\".plot\")\n                .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n                .selectAll(\"dot\")\n                .data(props.data)\n                .enter()\n                .append(\"circle\")\n                .attr(\"class\", (d)=>{ if(d.ARTIST !== \"\"){return \"circle\"}else{return \"remove-circle\"} })\n                .attr(\"cy\", d => y(d.AWARD) )\n                .attr(\"cx\", d => x(parseTime(d.YEAR)) )\n                .attr(\"i\", (d,i) => i )\n                .attr(\"artist\", d => d['ART-1'].split(\" \").join(\"\"))\n                .attr(\"artist2\", d => {if(d['ART-2']) {return d['ART-2'].split(\" \").join(\"\")}})\n                .attr(\"artist3\", d => {if(d['ART-3']) {return d['ART-3'].split(\" \").join(\"\")}})\n                .attr(\"artist4\", d => {if(d['ART-4']) {return d['ART-4'].split(\" \").join(\"\")}})\n                .attr(\"artist5\", d => {if(d['ART-5']) {return d['ART-5'].split(\" \").join(\"\")}})\n                .attr(\"artist6\", d => {if(d['ART-6']) {return d['ART-6'].split(\" \").join(\"\")}})\n                .attr(\"r\", 5.5)\n                .style(\"fill\", \"#666\")\n                .attr(\"stroke-width\", 2)\n                .attr(\"stroke\", \"#fff\")\n                .on(\"mouseover\",function(d) {\n                    let index = d3.select(this).attr(\"i\"); \n                    let cynum = d3.select(this).attr(\"cy\");\n                    let cxnum = d3.select(this).attr(\"cx\");\n                    let side;\n                    if (index > props.data.length/2) {side = 'left';} else {side = 'right';}\n                    d3.select(this).attr(\"stroke\", \"#666\");\n                    d3.select(this).style(\"opacity\", 1);\n                    d3.select(`text.tooltip-artist-${props.id}`)\n                        .text(() => {\n                            let text = props.data[index]['ARTIST'];\n                            if (props.data[index]['WINNER']) {text = text+', '+ props.data[index]['WINNER'];}\n                            return text;\n                        })\n                        .attr(\"dy\", () => {return +cynum-7})\n                        .attr(\"dx\", () => {if (side == \"left\") {return (+cxnum + 5)} else {return (+cxnum - 5)} })\n                        .attr(\"text-anchor\", () => { if (side == \"left\") {return \"start\"} else {return \"end\"} })\n                        .style(\"opacity\", 1);\n                })\n                .on(\"mouseout\",function(d,i) {\n                    if (props.artist != 'none') {d3.select(this).style(\"opacity\", 0.1);}\n                    d3.selectAll(\"circle.circle.selected-artist\").style(\"opacity\", 1);\n                    d3.select(this).attr(\"stroke\", \"#fff\");\n                    d3.select(`text.tooltip-artist-${props.id}`).style(\"opacity\", 0);\n                });\n\n            d3.selectAll(\"circle.remove-circle\").remove();\n\n            let artistSelected = props.artist.split(\" \").join(\"\");\n            if (props.artist != 'none') { d3.selectAll(\"circle.circle\").style(\"opacity\", 0.1) }\n            d3.selectAll(\"circle.circle[artist='\"+artistSelected+\"']\").classed('selected-artist', true).style(\"opacity\", 1);\n            d3.selectAll(\"circle.circle[artist2='\"+artistSelected+\"']\").classed('selected-artist', true).style(\"opacity\", 1);\n            d3.selectAll(\"circle.circle[artist3='\"+artistSelected+\"']\").classed('selected-artist', true).style(\"opacity\", 1);\n            d3.selectAll(\"circle.circle[artist4='\"+artistSelected+\"']\").classed('selected-artist', true).style(\"opacity\", 1);\n            d3.selectAll(\"circle.circle[artist5='\"+artistSelected+\"']\").classed('selected-artist', true).style(\"opacity\", 1);\n            d3.selectAll(\"circle.circle[artist6='\"+artistSelected+\"']\").classed('selected-artist', true).style(\"opacity\", 1);\n        }, \n        [props.artist]\n    );\n\n    const chartDek = () => {\n        if (props.id === 'superbowl') {\n            return `Below are the headliners for the Super Bowl halftime show. Each year's performer(s) are represented by a circle (hover for more).`\n        } else {\n            return <span>Below are <i>select</i> awards at the {props.show}. Each year's winning artist is represented by a circle (hover for more).</span>\n        }\n    }\n\n    return(\n        <div class=\"mt-5\">\n            <h5>{props.show}</h5>\n            <div>\n                <p className=\"winning-artist\">{props.awardCountForArist} for {props.artist} = <span></span></p>\n                <div>\n                    <small>{chartDek()}</small>\n                </div>\n            </div>\n            <svg\n                id={props.id}\n                ref={ref}\n                style={{\n                    height: props.height,\n                    width: 893\n                }}\n            >\n                <g className='plot' />\n                <g className='x-axis' />\n                <g className='y-axis' />\n            </svg>\n            <div>\n                <small>\n                    <a href=\"about\">Notes and Source Info</a>\n                </small>\n            </div>\n        </div>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}