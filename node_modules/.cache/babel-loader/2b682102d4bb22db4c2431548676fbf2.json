{"ast":null,"code":"var _jsxFileName = \"/Users/reneelightner/reneelempert/react-development-course-materials/final/src/Chart.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport * as d3 from 'd3';\nimport { useD3 } from './useD3.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Chart(props) {\n  _s();\n\n  const ref = useD3(svg => {\n    const height = props.height;\n    const width = props.width;\n    const margin = {\n      top: 1,\n      right: 15,\n      bottom: 20,\n      left: 125\n    };\n    const parseTime = d3.timeParse(\"%Y\");\n    props.data.map(d => {\n      return {\n        'YEAR': parseTime(d.YEAR)\n      };\n    });\n    const x = d3.scaleTime().rangeRound([margin.right, width - margin.right - margin.left]).domain(d3.extent(props.data, function (d) {\n      return parseTime(d.YEAR);\n    }));\n    const y = d3.scaleBand().domain(['RECORD OF THE YEAR', 'ALBUM OF THE YEAR', 'SONG OF THE YEAR', 'BEST NEW ARTIST']).rangeRound([0, height - margin.top - margin.bottom]).padding(1);\n\n    const xAxis = g => g.attr(\"transform\", `translate(${margin.left},${height - margin.bottom})`).call(d3.axisBottom(x));\n\n    const yAxis = g => g.attr(\"transform\", `translate(${margin.left},${margin.top})`).call(d3.axisLeft(y));\n\n    svg.select(\".x-axis\").call(xAxis);\n    svg.select(\".y-axis\").call(yAxis);\n    svg.select(\".plot\").attr(\"transform\", `translate(${margin.left},${margin.top})`).selectAll(\"dot\").data(props.data).enter().append(\"circle\").attr(\"class\", d => {\n      if (d.WINNER !== \"\") {\n        return \"circle\";\n      } else {\n        return \"remove-circle\";\n      }\n    }).attr(\"cy\", d => y(d.AWARD)).attr(\"cx\", d => x(parseTime(d.YEAR))).attr(\"i\", (d, i) => i).attr(\"artist\", d => d['ART1'].split(\" \").join(\"\")).attr(\"artist-2\", d => {\n      if (d['ART2']) {\n        return d['ART-2'].split(\" \").join(\"\");\n      }\n    }).attr(\"r\", 5.5).attr(\"stroke-width\", 2).style(\"fill\", d => {\n      if (d.AWARD == \"RECORD OF THE YEAR\") {\n        return recordColor;\n      } else if (d.AWARD == \"ALBUM OF THE YEAR\") {\n        return albumColor;\n      } else if (d.AWARD == \"BEST NEW ARTIST\") {\n        return bnaColor;\n      } else {\n        return songColor;\n      }\n    }).attr(\"stroke\", \"#fff\").on(\"mouseover\", function (d, i) {\n      d3.selectAll(\"circle.circle\").style(\"opacity\", 0.1);\n      d3.select(this).attr(\"stroke\", \"#666\").style(\"opacity\", 1);\n    }).on(\"mouseout\", function (d, i) {\n      d3.selectAll(\"circle.circle\").attr(\"stroke\", \"#fff\").style(\"opacity\", 1);\n    });\n  }, [props.data.length]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: ref,\n    style: {\n      height: props.height,\n      width: props.width\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"plot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"x-axis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"y-axis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Chart, \"r127xTdrGuIqcYXTmMbvPxoKAyo=\", false, function () {\n  return [useD3];\n});\n\n_c = Chart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chart\");","map":{"version":3,"sources":["/Users/reneelightner/reneelempert/react-development-course-materials/final/src/Chart.js"],"names":["React","d3","useD3","Chart","props","ref","svg","height","width","margin","top","right","bottom","left","parseTime","timeParse","data","map","d","YEAR","x","scaleTime","rangeRound","domain","extent","y","scaleBand","padding","xAxis","g","attr","call","axisBottom","yAxis","axisLeft","select","selectAll","enter","append","WINNER","AWARD","i","split","join","style","recordColor","albumColor","bnaColor","songColor","on","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport { useD3 } from './useD3.js';\n\nexport default function Chart(props) {\n\n    const ref = useD3(\n        (svg) => {\n            const height = props.height;\n            const width = props.width;\n            const margin = {top: 1, right: 15, bottom: 20, left: 125};\n\n            const parseTime = d3.timeParse(\"%Y\");\n            props.data.map(d => { return {'YEAR' : parseTime(d.YEAR)} });\n\n            const x = d3.scaleTime()\n                .rangeRound([margin.right, width-margin.right-margin.left])\n                .domain(d3.extent(props.data, function(d) { return parseTime(d.YEAR); }));\n\n            const y = d3.scaleBand()\n                .domain(['RECORD OF THE YEAR', 'ALBUM OF THE YEAR', 'SONG OF THE YEAR', 'BEST NEW ARTIST'])\n                .rangeRound([0, height-margin.top-margin.bottom])\n                .padding(1);\n\n            const xAxis = g => g\n                .attr(\"transform\", `translate(${margin.left},${height - margin.bottom})`)\n                .call(d3.axisBottom(x));\n\n            const yAxis = g => g\n                .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n                .call(d3.axisLeft(y));\n\n            svg.select(\".x-axis\").call(xAxis);\n            svg.select(\".y-axis\").call(yAxis);\n\n            svg\n                .select(\".plot\")\n                .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n                .selectAll(\"dot\")\n                .data(props.data)\n                .enter()\n                .append(\"circle\")\n                .attr(\"class\", (d)=>{ if(d.WINNER !== \"\"){return \"circle\"}else{return \"remove-circle\"} })\n                .attr(\"cy\", d => y(d.AWARD) )\n                .attr(\"cx\", d => x(parseTime(d.YEAR)) )\n                .attr(\"i\", (d,i) => i )\n                .attr(\"artist\", d => d['ART1'].split(\" \").join(\"\"))\n                .attr(\"artist-2\", d => {if(d['ART2']) {return d['ART-2'].split(\" \").join(\"\")}})\n                .attr(\"r\", 5.5)\n                .attr(\"stroke-width\",2)\n                .style(\"fill\", d => { if(d.AWARD==\"RECORD OF THE YEAR\") {return recordColor} else if (d.AWARD==\"ALBUM OF THE YEAR\") {return albumColor} else if (d.AWARD==\"BEST NEW ARTIST\"){return bnaColor} else {return songColor} })\n                .attr(\"stroke\", \"#fff\")\n                .on(\"mouseover\",function(d,i) {\n                    d3.selectAll(\"circle.circle\").style(\"opacity\", 0.1);\n                    d3.select(this).attr(\"stroke\", \"#666\").style(\"opacity\", 1);\n                })\n                .on(\"mouseout\",function(d,i) {\n                    d3.selectAll(\"circle.circle\").attr(\"stroke\", \"#fff\").style(\"opacity\", 1);\n                })\n        }, \n        [props.data.length]\n    );\n\n    return(\n        <svg\n            ref={ref}\n            style={{\n                height: props.height,\n                width: props.width\n            }}\n        >\n            <g className='plot' />\n            <g className='x-axis' />\n            <g className='y-axis' />\n        </svg>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}